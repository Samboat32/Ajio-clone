<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lora&display=swap" rel="stylesheet">
    <title>Men's Product</title>
    <link rel="stylesheet" href="product_page.css">
</head>

<body>
    <div id="page">
        <div id="left_side">
            <!-- <p>Home / Men Fashion</p> -->
            <h2>Refine Buy</h2>
            <ul>
                <div>
                    <button id="btn1">Gender</button>
                    <div id="add1"></div>
                </div>
                <div>
                    <button id="btn2">Catogary</button>
                    <div id="add2"></div>
                </div>
                <div>
                    <button id="btn3">Price</button>
                    <div id="add3"></div>
                </div>
                <div>
                    <button id="btn4">Brands</button>
                    <div id="add4"></div>
                </div>
                <div>
                    <button id="btn5">Size & Fit</button>
                    <div id="add5"></div>
                </div>
            </ul>

        </div>

        <!-- <hr> -->
        <div id="right_side">
            <h1>Men's Product</h1>
            <hr>
            <div>
                <h4>9,316 Items Found</h4>
                <div></div>
                <p>SHORT BY </p>
                <select id="select" onchange="short()">
                    <option disabled hidden selected> Popularity</option>
                    <option value="Popularity">Popularity</option>
                    <option value="price_lowest">Price (Lowest First)</option>
                    <option value="price_high">Price (Highest First)</option>
                    <option value="discount">Discount</option>
                </select>
            </div>
            <hr>
            <div id="product_box"></div>
        </div>
        <!-- <div id="clearboth"></div> -->
</body>

</html>

<script>
    //for right side script
    const product_details = [{
        company_name: 'CONDITIONS APPLY',
        description: 'Graphic Regular Fit Crew- Neck T-shirt',
        price: '330',
        original_price: 'Rs. 1,099',
        discount: '70',
        poster: 'https://assets.ajio.com/medias/sys_master/root/20210517/9Zxp/60a267f8aeb269a9e3c12248/teamspirit_navy_blue_heathered_henley_t-shirt.jpg'
    }, {
        company_name: 'AUSTIN WOOD',
        description: 'Striped Slim Fit Polo T-shirt',
        price: '450',
        original_price: 'Rs. 1,499',
        discount: '70',
        poster: 'https://assets.ajio.com/medias/sys_master/root/20210403/fXpO/606828897cdb8c1f1473f3f9/austin_wood_grey_striped_slim_fit_polo_t-shirt.jpg'
    }, {
        company_name: 'Hubberholme',
        description: 'Slim Fit Joggers with Contrast Taping',
        price: '390',
        original_price: 'Rs. 1,299 ',
        discount: '70',
        poster: 'https://assets.ajio.com/medias/sys_master/root/hb7/h6b/14472614510622/hubberholme_navy_blue_slim_fit_joggers_with_contrast_taping.jpg'
    }, {
        company_name: 'REAL MADRID',
        description: 'Full-Rim Aviator Sunglasses',
        price: '684',
        original_price: 'Rs. 3,420',
        discount: '80',
        poster: 'https://assets.ajio.com/medias/sys_master/root/h05/hb1/14610844090398/real_madrid_brown_full-rim_aviator_sunglasses.jpg'
    }, {
        company_name: 'REAL MADRID',
        description: 'Colourblock Rucksack Backpack',
        price: '900',
        original_price: 'Rs.1000',
        discount: '10',
        poster: 'https://assets.ajio.com/medias/sys_master/root/20210403/MBOh/606939e1aeb269a9e3405133/fidato_silver_analogue_watch_with_metal_strap.jpg'
    }, {
        company_name: 'Chris $ Kate',
        description: 'Colourblock Rucksack Backpack',
        price: '350',
        original_price: 'Rs. 1,000',
        discount: '65',
        poster: 'https://assets.ajio.com/medias/sys_master/root/20210404/r6L3/606a47607cdb8c1f1495bd5e/austin_wood_multicoloured_striped_slim_fit_polo_t-shirt_.jpg'
    }, {
        company_name: 'CONDITIONS APPLY',
        description: 'Graphic Regular Fit Crew- Neck T-shirt',
        price: '330',
        original_price: 'Rs. 1,099',
        discount: '70',
        poster: 'https://assets.ajio.com/medias/sys_master/root/20210403/rdZD/60686abaaeb269a9e331c9e1/clafoutis_blue_&_maroon_colourblock_crew-neck_t-shirt.jpg'
    }, {
        company_name: 'CONDITIONS APPLY',
        description: 'Graphic Regular Fit Crew- Neck T-shirt',
        price: '330',
        original_price: 'Rs. 1,099',
        discount: '70',
        poster: 'https://assets.ajio.com/medias/sys_master/root/20210316/cdSd/604fbf6c7cdb8c1f14635c00/hubberholme_navy_blue_flat-front_mid-rise_slim_trousers.jpg'
    }, {
        company_name: 'CONDITIONS APPLY',
        description: 'Graphic Regular Fit Crew- Neck T-shirt',
        price: '330',
        original_price: 'Rs. 1,099',
        discount: '70',
        poster: 'https://assets.ajio.com/medias/sys_master/root/20210403/57xO/60689528f997dd7b64616a41/mchenry_beige_mid-rise_straight_fit_trousers.jpg'
    }, {
        company_name: 'CONDITIONS APPLY',
        description: 'Graphic Regular Fit Crew- Neck T-shirt',
        price: '330',
        original_price: 'Rs. 1,099',
        discount: '70',
        poster: 'https://assets.ajio.com/medias/sys_master/root/20210403/OjjF/6068dc44aeb269a9e33a52e1/dennislingo_premium_attire_dusty_pink_full_sleeves_slim_fit_shirt.jpg'
    }, {
        company_name: 'CONDITIONS APPLY',
        description: 'Graphic Regular Fit Crew- Neck T-shirt',
        price: '330',
        original_price: 'Rs. 1,099',
        discount: '70',
        poster: 'https://assets.ajio.com/medias/sys_master/root/20210403/M8x9/60686522f997dd7b645d60d4/dennislingo_premium_attire_sky_blue_slim_fit_shirt_with_patch_pocket.jpg'
    }, {
        company_name: 'CONDITIONS APPLY',
        description: 'Graphic Regular Fit Crew- Neck T-shirt',
        price: '330',
        original_price: 'Rs. 1,099',
        discount: '70',
        poster: 'https://assets.ajio.com/medias/sys_master/root/20210404/3PUe/606a68e0f997dd7b6484695c/seta_red_slim_fit_shirt_with_patch_pocket.jpg'
    }, ]

    localStorage.setItem('product_details', JSON.stringify(product_details))

    var box = document.getElementById('product_box')

    function appendproducts(data) {
        // var data = JSON.parse(localStorage.getItem('product_details'))
        box.innerHTML = null
        var id = 0

        data.forEach(function(el) {
            let div = document.createElement('div')
            div.setAttribute('class', 'box')
            id++
            div.innerHTML =
                `<img src="${el.poster}" alt="img${id}"/>
                    <div>
                        <p>${el.company_name}</p>
                        <p>${el.description}</p>
                        <div>
                            <span>Rs. ${el.price}</span>
                            <span>${el.original_price}</span>
                            <span>(${el.discount}% off)</span>
                        </div>
                    </div>`
            box.append(div)
        })
    }
    appendproducts(JSON.parse(localStorage.getItem('product_details')))


    function short() {
        var select = document.getElementById('select').value
        console.log('select:', select)

        if (select == 'price_lowest') {
            let product_details = JSON.parse(localStorage.getItem('product_details'))

            product_details = product_details.sort(function(a, b) {
                    return a.price - b.price
                })
                // console.log(product_details);
            appendproducts(product_details)
        } else if (select == 'price_high') {
            let product_details = JSON.parse(localStorage.getItem('product_details'))

            product_details = product_details.sort(function(a, b) {
                    return b.price - a.price
                })
                // console.log(product_details);
            appendproducts(product_details)
        } else if (select == 'discount') {
            let product_details = JSON.parse(localStorage.getItem('product_details'))

            product_details = product_details.sort(function(a, b) {
                    return a.discount - b.discount
                })
                // console.log(product_details);
            appendproducts(product_details)
        } else {
            var data = JSON.parse(localStorage.getItem('product_details'))
            appendproducs(data)
        }
    }

    //for left side script

    var btn1 = document.getElementById('btn1')
    var add1 = document.getElementById('add1')
    var count1 = 0

    function create1() {
        var div = document.createElement('div')
        div.innerHTML = `<div><input type="checkbox"> Men (9,211)</div>
        <div><input type="checkbox"> Women (1)</div>
        <hr>`
        count1++
        // console.log(count1);
        if (count1 % 2 == 1) {
            // console.log(div);
            add1.appendChild(div)
            btn1.style.color = "blue"
        } else if (count1 % 2 == 0) {
            // console.log(div);
            let p = add1.firstChild
                // console.log(p);
            p.remove()
            btn1.style.color = "black"
        }
        // console.log(btn1);
    }
    btn1.addEventListener('click', create1)

    var btn2 = document.getElementById('btn2')
    var add2 = document.getElementById('add2')
    var count2 = 0

    function create2() {
        var div = document.createElement('div')
        div.innerHTML = `<div><input type="checkbox"> Belts (1,310)</div>
        <div><input type="checkbox"> Tshirts (1,167)</div>
        <div><input type="checkbox"> Sports Shoes (806)</div>
        <div><input type="checkbox"> Casual Shoes (744)</div>
        <div><input type="checkbox"> Shirts (789)</div>
        <hr>`
        count2++
        if (count2 % 2 == 1) {
            add2.appendChild(div)
            btn2.style.color = "blue"
        } else if (count2 % 2 == 0) {
            let p = add2.firstChild
            p.remove()
            btn2.style.color = "black"
        }
    }
    btn2.addEventListener('click', create2)

    var btn3 = document.getElementById('btn3')
    var add3 = document.getElementById('add3')
    var count3 = 0

    function create3() {
        var div = document.createElement('div')
        div.innerHTML = `<div><input type="checkbox"> Below Rs.500 (2,052)</div>
        <div><input type="checkbox"> Rs.500-1000 (5,576)</div>
        <div><input type="checkbox"> Rs.1001-1500 (1,196)</div>
        <div><input type="checkbox"> Rs.1501-2000 (316)</div>
        <div><input type="checkbox"> Rs.2001-2500 (46)</div>
        <hr>`
        count3++
        if (count3 % 2 == 1) {
            console.log(div);
            add3.appendChild(div)
            btn3.style.color = "blue"
        } else if (count3 % 2 == 0) {
            // console.log(div);
            let p = add3.firstChild
                // console.log(p);
            p.remove()
            btn3.style.color = "black"
        }
    }
    btn3.addEventListener('click', create3)

    var btn4 = document.getElementById('btn4')
    var add4 = document.getElementById('add4')
    var count4 = 0

    function create4() {
        var div = document.createElement('div')
        div.innerHTML = `<div><input type="checkbox"> RED TAPE (115)</div>
        <div><input type="checkbox"> The Indian Garage Co (52)</div>
        <div><input type="checkbox"> DELIZE (27)</div>
        <div><input type="checkbox"> ROADIES (20)</div>
        <div><input type="checkbox"> MONDAIN (16)</div>
        <hr>`
        count4++
        if (count4 % 2 == 1) {
            console.log(div);
            add4.appendChild(div)
            btn4.style.color = "blue"
        } else if (count4 % 2 == 0) {
            // console.log(div);
            let p = add4.firstChild
                // console.log(p);
            p.remove()
            btn4.style.color = "black"
        }
    }
    btn4.addEventListener('click', create4)

    var btn5 = document.getElementById('btn5')
    var add5 = document.getElementById('add5')
    var count5 = 0

    function create5() {
        var div = document.createElement('div')
        div.innerHTML = `<div><input type="checkbox"> UK10 (121)</div>
        <div><input type="checkbox"> UK9 (27)</div>
        <div><input type="checkbox"> UK8 (68)</div>
        <div><input type="checkbox"> UK7 (20)</div>
        <div><input type="checkbox"> UK11 (16)</div>
        <hr>`
        count5++
        if (count5 % 2 == 1) {
            add5.appendChild(div)
            btn5.style.color = "blue"
        } else if (count5 % 2 == 0) {
            let p = add5.firstChild
            p.remove()
            btn5.style.color = "black"
        }

    }
    btn5.addEventListener('click', create5)
</script>